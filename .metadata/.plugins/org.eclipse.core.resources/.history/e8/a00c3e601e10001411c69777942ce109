package com.huuta.examplefrontend;

import java.awt.Component;
import java.awt.Dimension;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;

import javax.swing.JButton;
import javax.swing.JDialog;
import javax.swing.JOptionPane;
import javax.swing.JPanel;
import javax.swing.border.EmptyBorder;
import javax.swing.GroupLayout;
import javax.swing.GroupLayout.Alignment;
import javax.swing.LayoutStyle.ComponentPlacement;
import javax.swing.JLabel;
import javax.swing.JTextField;
import java.awt.FlowLayout;
import java.awt.GridLayout;


class AddCodeSpaceDialog extends JDialog {
		/**
	 * 
	 */
	private static final long serialVersionUID = 1L;
		private int _codeLen;
		private String _excludes;
		private String _csName;
		private boolean _cancelled;
		
		public boolean isCancelled() {
			return _cancelled;
		}

		public int getCodeLen() {
			return _codeLen;
		}

		public String getExcludes() {
			return _excludes;
		}

		public String getCsName() {
			return _csName;
		}

		private JTextField _codeLenText;
		private JTextField _excludesText;
		private JTextField _csNameText;
		
		public AddCodeSpaceDialog() {
			_cancelled = false;
			setResizable(false);
			setTitle("Add Code Space");
			setModal(true);
			JPanel content = new JPanel();
			content.setBorder(new EmptyBorder(5, 5, 5, 5));
			JButton btnOK = new JButton("OK");
			btnOK.addActionListener(new ActionListener() {
				public void actionPerformed(ActionEvent arg0) {
					ok();
				}
			});
			this.setContentPane(content);
			JButton btnCancel = new JButton("Cancel");
			btnCancel.addActionListener(new ActionListener() {
				public void actionPerformed(ActionEvent arg0) {
					cancel();
				}
			});
			
			JLabel lblUserFirstName = new JLabel("Code length:");
			
			JLabel lblUserSecondName = new JLabel("Excludes:");
			
			JLabel lblUserEmailAddress = new JLabel("Code Space name:");
			
			_codeLenText = new JTextField();
			_codeLenText.setColumns(10);
			
			_excludesText = new JTextField();
			_excludesText.setColumns(10);
			
			_csNameText = new JTextField();
			_csNameText.setColumns(10);
			content.getRootPane().setDefaultButton(btnOK);
			GroupLayout gl_content = new GroupLayout(content);
			gl_content.setHorizontalGroup(
				gl_content.createParallelGroup(Alignment.LEADING)
					.addGroup(gl_content.createSequentialGroup()
						.addGroup(gl_content.createParallelGroup(Alignment.TRAILING)
							.addGroup(gl_content.createSequentialGroup()
								.addComponent(btnOK, GroupLayout.PREFERRED_SIZE, 94, GroupLayout.PREFERRED_SIZE)
								.addPreferredGap(ComponentPlacement.UNRELATED)
								.addComponent(btnCancel, GroupLayout.PREFERRED_SIZE, 94, GroupLayout.PREFERRED_SIZE))
							.addGroup(gl_content.createParallelGroup(Alignment.TRAILING)
								.addGroup(gl_content.createSequentialGroup()
									.addComponent(lblUserFirstName, GroupLayout.DEFAULT_SIZE, 122, Short.MAX_VALUE)
									.addPreferredGap(ComponentPlacement.UNRELATED)
									.addComponent(_codeLenText, GroupLayout.PREFERRED_SIZE, 233, GroupLayout.PREFERRED_SIZE))
								.addGroup(gl_content.createSequentialGroup()
									.addGroup(gl_content.createParallelGroup(Alignment.LEADING)
										.addComponent(lblUserEmailAddress, GroupLayout.DEFAULT_SIZE, 112, Short.MAX_VALUE)
										.addComponent(lblUserSecondName, GroupLayout.DEFAULT_SIZE, 112, Short.MAX_VALUE))
									.addPreferredGap(ComponentPlacement.RELATED)
									.addGroup(gl_content.createParallelGroup(Alignment.LEADING)
										.addComponent(_excludesText, Alignment.TRAILING, 233, 233, 233)
										.addComponent(_csNameText, Alignment.TRAILING, 233, 233, 233)))))
						.addGap(14))
			);
			gl_content.setVerticalGroup(
				gl_content.createParallelGroup(Alignment.LEADING)
					.addGroup(gl_content.createSequentialGroup()
						.addGroup(gl_content.createParallelGroup(Alignment.BASELINE)
							.addComponent(_codeLenText, GroupLayout.PREFERRED_SIZE, 23, GroupLayout.PREFERRED_SIZE)
							.addComponent(lblUserFirstName, GroupLayout.PREFERRED_SIZE, 23, GroupLayout.PREFERRED_SIZE))
						.addPreferredGap(ComponentPlacement.RELATED)
						.addGroup(gl_content.createParallelGroup(Alignment.BASELINE)
							.addComponent(_excludesText, GroupLayout.PREFERRED_SIZE, 23, GroupLayout.PREFERRED_SIZE)
							.addComponent(lblUserSecondName, GroupLayout.PREFERRED_SIZE, 23, GroupLayout.PREFERRED_SIZE))
						.addPreferredGap(ComponentPlacement.RELATED)
						.addGroup(gl_content.createParallelGroup(Alignment.BASELINE)
							.addComponent(_csNameText, GroupLayout.PREFERRED_SIZE, 23, GroupLayout.PREFERRED_SIZE)
							.addComponent(lblUserEmailAddress, GroupLayout.PREFERRED_SIZE, 23, GroupLayout.PREFERRED_SIZE))
						.addPreferredGap(ComponentPlacement.RELATED)
						.addGroup(gl_content.createParallelGroup(Alignment.BASELINE)
							.addComponent(btnCancel)
							.addComponent(btnOK))
						.addContainerGap(GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
			);
			content.setLayout(gl_content);
			pack();
		}
		
		private void ok() {
			if (_codeLenText.getText() == "" || _excludesText.getText() == "" || _csNameText.getText() == "") {
				JOptionPane.showMessageDialog(this, "You must specify all fields", "Add Code Space", JOptionPane.ERROR_MESSAGE);
			} else {
				_codeLen = Integer.valueOf(_codeLenText.getText());
				_excludes = _excludesText.getText();
				_csName = _csNameText.getText();
				this.setVisible(false);
			}
		}
		
		private void cancel() {
			_cancelled = true;
			this.setVisible(false);
		}
	}